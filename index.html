<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="js/three.min.js" defer></script>
    <script src="js/PLYLoader.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/josephg/noisejs/perlin.js" defer></script>
    <link rel="stylesheet" href="css/layout.css" />
    <title>CGLabs</title>

    <style>
        #menuToggle {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 101;
            background-color: #23445D;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
        }

        #sliderContainer {
            position: fixed;
            top: 50px;
            left: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.85);
            border-radius: 8px;
            color: white;
            z-index: 100;
            display: none;
        }

        #sliderContainer label, #sliderContainer legend {
            display: block;
            font-size: 14px;
            margin-bottom: 8px;
        }

        #sliderContainer fieldset {
            border: 1px solid white;
            margin-bottom: 10px;
            padding: 10px;
        }

        input[type="range"] {
            width: 150px;
        }
    </style>
</head>
<body>
    <fieldset id="lightingOptions">
        <label>Lighting Mode</label>
        <label><input type="radio" name="lighting" value="day" checked /> Day</label>
        <label><input type="radio" name="lighting" value="sunset" /> Sunset</label>
        <label><input type="radio" name="lighting" value="night" /> Night</label>
    </fieldset>

    <!-- Toggle button -->
    <button id="menuToggle">Settings</button>

    <!-- Dropdown menu: sliders only -->
    <div id="sliderContainer">
        <label>
            Terrain Noise:
            <input type="range" id="noiseSlider" min="0.01" max="0.5" step="0.01" value="0.1">
        </label>
        <label>
            Terrain Polygons:
            <input type="range" id="terpolySlider" min="1" max="50" step="1" value="5">
        </label>
        <label>
            Hill Frequency:
            <input type="range" id="hillSlider" min="0" max="10" step="1" value="3">
        </label>
        <label>
            House Count:
            <input type="range" id="houseSlider" min="0" max="5" value="2">
        </label>
        <label>press v to lock/unlock cursor</label>
    </div>
    <script>
        const menuToggle = document.getElementById("menuToggle");
        const sliderContainer = document.getElementById("sliderContainer");

        menuToggle.addEventListener("click", () => {
            const isVisible = sliderContainer.style.display === "block";
            sliderContainer.style.display = isVisible ? "none" : "block";
        });
    </script>

    <script src="mainscripts/objectspawner.js" defer></script>
    <script src="mainscripts/trees.js" defer></script>
    <script src="mainscripts/water.js" defer></script>
    <script src="mainscripts/terrain.js" defer></script>
    <script src="mainscripts/setup.js" defer></script>
    <script src="mainscripts/animate.js" defer></script>
    <script src="mainscripts/run.js" defer></script>
</body>
</html>
